const a14_0x504af3=a14_0x171d;(function(_0x4d802e,_0x37c44f){const _0x34887f=a14_0x171d,_0x4ea482=_0x4d802e();while(!![]){try{const _0x30a542=-parseInt(_0x34887f(0x118))/0x1*(-parseInt(_0x34887f(0x126))/0x2)+parseInt(_0x34887f(0x130))/0x3+parseInt(_0x34887f(0x112))/0x4+parseInt(_0x34887f(0x131))/0x5+parseInt(_0x34887f(0x113))/0x6+-parseInt(_0x34887f(0x137))/0x7*(-parseInt(_0x34887f(0x124))/0x8)+-parseInt(_0x34887f(0x129))/0x9;if(_0x30a542===_0x37c44f)break;else _0x4ea482['push'](_0x4ea482['shift']());}catch(_0x4a7b8a){_0x4ea482['push'](_0x4ea482['shift']());}}}(a14_0x3626,0x9689d),require('dotenv')[a14_0x504af3(0x12f)]());const {Pool}=require('pg'),s=require(a14_0x504af3(0x117));var dbUrl=s[a14_0x504af3(0x12b)]?s[a14_0x504af3(0x12b)]:a14_0x504af3(0x135);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function createSudoTable(){const _0x4fefe8=a14_0x504af3,_0x336858=(function(){let _0xf38201=!![];return function(_0x207915,_0x1b4569){const _0x599290=_0xf38201?function(){const _0x1717d2=a14_0x171d;if(_0x1b4569){const _0x364695=_0x1b4569[_0x1717d2(0x111)](_0x207915,arguments);return _0x1b4569=null,_0x364695;}}:function(){};return _0xf38201=![],_0x599290;};}()),_0x44fba4=_0x336858(this,function(){const _0x4683f2=a14_0x171d;return _0x44fba4[_0x4683f2(0x119)]()['search']('(((.+)+)+)+$')[_0x4683f2(0x119)]()['constructor'](_0x44fba4)[_0x4683f2(0x12e)](_0x4683f2(0x115));});_0x44fba4();const _0x17819a=await pool[_0x4fefe8(0x12c)]();try{await _0x17819a[_0x4fefe8(0x11e)]('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20sudo\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20serial\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20NOT\x20NULL\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20'),console[_0x4fefe8(0x121)](_0x4fefe8(0x122));}catch(_0x59d912){console[_0x4fefe8(0x128)](_0x4fefe8(0x11f),_0x59d912);}finally{_0x17819a[_0x4fefe8(0x11c)]();}}createSudoTable();async function issudo(_0x1d76be){const _0x10ad51=a14_0x504af3,_0x4d2d00=await pool[_0x10ad51(0x12c)]();try{const _0x46cadc=_0x10ad51(0x123),_0x257065=[_0x1d76be],_0x1c6c50=await _0x4d2d00[_0x10ad51(0x11e)](_0x46cadc,_0x257065);return _0x1c6c50[_0x10ad51(0x114)][0x0][_0x10ad51(0x134)];}catch(_0x4ec622){return console[_0x10ad51(0x128)]('Erreur\x20lors\x20de\x20la\x20vérification\x20du\x20groupe\x20banni\x20:',_0x4ec622),![];}finally{_0x4d2d00[_0x10ad51(0x11c)]();}}function a14_0x3626(){const _0x4ae97d=['error','30885363nMfVRm','Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20numéros\x20de\x20téléphone\x20autorisés\x20:','DATABASE_URL','connect','Numéro\x20de\x20téléphone\x20','search','config','2509557pQhMZK','3395510vAdCdA','SELECT\x20jid\x20FROM\x20sudo','exports','exists','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','\x20supprimé\x20de\x20la\x20liste\x20des\x20numéros\x20de\x20téléphone\x20autorisés.','22421mLyRHf','apply','305340nWOsjD','1157244FvRCAF','rows','(((.+)+)+)+$','\x20ajouté\x20à\x20la\x20liste\x20des\x20numéros\x20de\x20téléphone\x20autorisés.','../set','41dbjMvD','toString','SELECT\x20COUNT(*)\x20FROM\x20sudo','DELETE\x20FROM\x20sudo\x20WHERE\x20jid\x20=\x20$1','release','INSERT\x20INTO\x20sudo\x20(jid)\x20VALUES\x20($1)','query','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27sudo\x27:','map','log','La\x20table\x20\x27sudo\x27\x20a\x20été\x20créée\x20avec\x20succès.','SELECT\x20EXISTS\x20(SELECT\x201\x20FROM\x20sudo\x20WHERE\x20jid\x20=\x20$1)','2944GxzvvM','count','52916RdYnDq','Erreur\x20lors\x20de\x20l\x27ajout\x20du\x20numéro\x20de\x20téléphone\x20autorisé\x20:'];a14_0x3626=function(){return _0x4ae97d;};return a14_0x3626();}function a14_0x171d(_0x1cbde2,_0x1172dd){const _0x47de14=a14_0x3626();return a14_0x171d=function(_0x3a090e,_0x16fea3){_0x3a090e=_0x3a090e-0x111;let _0x36260d=_0x47de14[_0x3a090e];return _0x36260d;},a14_0x171d(_0x1cbde2,_0x1172dd);}async function removeSudoNumber(_0xf3b7f){const _0x5986fe=a14_0x504af3,_0x3ebdb0=await pool[_0x5986fe(0x12c)]();try{const _0x1fac26=_0x5986fe(0x11b),_0x17ac0f=[_0xf3b7f];await _0x3ebdb0['query'](_0x1fac26,_0x17ac0f),console['log'](_0x5986fe(0x12d)+_0xf3b7f+_0x5986fe(0x136));}catch(_0x5d56e1){console[_0x5986fe(0x128)]('Erreur\x20lors\x20de\x20la\x20suppression\x20du\x20numéro\x20de\x20téléphone\x20autorisé\x20:',_0x5d56e1);}finally{_0x3ebdb0['release']();}}async function addSudoNumber(_0x1a8442){const _0x3e88c9=a14_0x504af3,_0x4b7db4=await pool[_0x3e88c9(0x12c)]();try{const _0x455bdb=_0x3e88c9(0x11d),_0x4e6749=[_0x1a8442];await _0x4b7db4['query'](_0x455bdb,_0x4e6749),console[_0x3e88c9(0x121)](_0x3e88c9(0x12d)+_0x1a8442+_0x3e88c9(0x116));}catch(_0xd6c9d2){console[_0x3e88c9(0x128)](_0x3e88c9(0x127),_0xd6c9d2);}finally{_0x4b7db4[_0x3e88c9(0x11c)]();}}async function getAllSudoNumbers(){const _0x275ca2=a14_0x504af3,_0x1ec5a2=await pool[_0x275ca2(0x12c)]();try{const _0x4cb93c=_0x275ca2(0x132),_0xd45764=await _0x1ec5a2[_0x275ca2(0x11e)](_0x4cb93c),_0x5d884a=_0xd45764[_0x275ca2(0x114)][_0x275ca2(0x120)](_0xb86d4d=>_0xb86d4d['jid']);return _0x5d884a;}catch(_0x4d1480){return console[_0x275ca2(0x128)](_0x275ca2(0x12a),_0x4d1480),[];}finally{_0x1ec5a2['release']();}}async function isSudoTableNotEmpty(){const _0x301e67=a14_0x504af3,_0x450589=await pool[_0x301e67(0x12c)]();try{const _0x391733=await _0x450589[_0x301e67(0x11e)](_0x301e67(0x11a)),_0x3898b8=parseInt(_0x391733['rows'][0x0][_0x301e67(0x125)]);return _0x3898b8>0x0;}catch(_0x10d60c){return console[_0x301e67(0x128)]('Erreur\x20lors\x20de\x20la\x20vérification\x20de\x20la\x20table\x20\x22sudo\x22\x20:',_0x10d60c),![];}finally{_0x450589[_0x301e67(0x11c)]();}};module[a14_0x504af3(0x133)]={'issudo':issudo,'addSudoNumber':addSudoNumber,'removeSudoNumber':removeSudoNumber,'getAllSudoNumbers':getAllSudoNumbers,'isSudoTableNotEmpty':isSudoTableNotEmpty};
