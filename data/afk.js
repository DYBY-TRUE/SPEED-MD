const a0_0x14674=a0_0x1fc5;(function(_0xde302b,_0x3dd7ec){const _0x5d9e45=a0_0x1fc5,_0x41685b=_0xde302b();while(!![]){try{const _0x3ad723=parseInt(_0x5d9e45(0x1ef))/0x1+parseInt(_0x5d9e45(0x201))/0x2+parseInt(_0x5d9e45(0x1f8))/0x3*(-parseInt(_0x5d9e45(0x1f7))/0x4)+-parseInt(_0x5d9e45(0x1e5))/0x5+-parseInt(_0x5d9e45(0x200))/0x6+-parseInt(_0x5d9e45(0x1f0))/0x7+parseInt(_0x5d9e45(0x1e6))/0x8;if(_0x3ad723===_0x3dd7ec)break;else _0x41685b['push'](_0x41685b['shift']());}catch(_0x6ddf17){_0x41685b['push'](_0x41685b['shift']());}}}(a0_0x560e,0xa080b));const a0_0x11e997=(function(){let _0x37fe96=!![];return function(_0xf735c8,_0x1c8484){const _0x561162=_0x37fe96?function(){const _0x5565a8=a0_0x1fc5;if(_0x1c8484){const _0x31d70e=_0x1c8484[_0x5565a8(0x1fb)](_0xf735c8,arguments);return _0x1c8484=null,_0x31d70e;}}:function(){};return _0x37fe96=![],_0x561162;};}()),a0_0x1c64ac=a0_0x11e997(this,function(){const _0x36d36f=a0_0x1fc5;return a0_0x1c64ac[_0x36d36f(0x1ed)]()[_0x36d36f(0x1fa)](_0x36d36f(0x1fe))[_0x36d36f(0x1ed)]()[_0x36d36f(0x202)](a0_0x1c64ac)[_0x36d36f(0x1fa)](_0x36d36f(0x1fe));});a0_0x1c64ac(),require(a0_0x14674(0x1f4))[a0_0x14674(0x1ee)]();const {Pool}=require('pg'),s=require('../set');var dbUrl=s['DATABASE_URL']?s[a0_0x14674(0x1f6)]:'postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9';const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig),creerTableAfk=async()=>{const _0x2c7bc8=a0_0x14674;try{await pool[_0x2c7bc8(0x1fc)](_0x2c7bc8(0x1e8)),console[_0x2c7bc8(0x1e4)](_0x2c7bc8(0x1f3));}catch(_0x5d11a6){console['error']('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27afk\x27:',_0x5d11a6);}};creerTableAfk();function a0_0x560e(){const _0x5a09bb=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20afk\x20(id,\x20message,\x20lien)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x20$2,\x20$3)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20message\x20=\x20$2,\x20lien\x20=\x20$3;\x0a\x20\x20\x20\x20\x20\x20','rows','La\x20table\x20\x27afk\x27\x20a\x20été\x20créée\x20avec\x20succès.','dotenv','L\x27enregistrement\x20AFK\x20n\x27existe\x20pas.','DATABASE_URL','618092wenrxO','15FEHNUU','\x0a\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20afk\x0a\x20\x20\x20\x20\x20\x20\x20\x20SET\x20etat\x20=\x20$1\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20$2\x0a\x20\x20\x20\x20\x20\x20\x20\x20RETURNING\x20*;\x0a\x20\x20\x20\x20\x20\x20','search','apply','query','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27enregistrement\x20AFK\x20par\x20ID:','(((.+)+)+)+$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20afk\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20$1;\x0a\x20\x20\x20\x20\x20\x20','7006734FRqtLu','315888QmfdaS','constructor','length','log','6165635CqhUvu','31314944AFJLjl','Une\x20erreur\x20est\x20survenue\x20lors\x20du\x20changement\x20de\x20l\x27état\x20de\x20l\x27enregistrement\x20AFK:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20afk\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20serial\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20etat\x20text\x20DEFAULT\x20\x27off\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lien\x20text\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20','error','L\x27enregistrement\x20AFK\x20a\x20été\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20succès.','succes','L\x27état\x20de\x20l\x27enregistrement\x20AFK\x20a\x20été\x20modifié\x20avec\x20succès.','toString','config','842329zKnqNf','7585837UGGdWF'];a0_0x560e=function(){return _0x5a09bb;};return a0_0x560e();}async function addOrUpdateAfk(_0x3f22c7,_0x5c5ab4,_0x4748de){const _0x40d4f0=a0_0x14674;try{await pool[_0x40d4f0(0x1fc)](_0x40d4f0(0x1f1),[_0x3f22c7,_0x5c5ab4,_0x4748de]),console['log'](_0x40d4f0(0x1ea));}catch(_0x2de8cd){console[_0x40d4f0(0x1e9)]('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27enregistrement\x20AFK:',_0x2de8cd);}}async function getAfkById(_0x68d2b3){const _0x1a278a=a0_0x14674;try{const {rows:_0x2f1d09}=await pool['query'](_0x1a278a(0x1ff),[_0x68d2b3]);return _0x2f1d09[0x0];}catch(_0x31299b){return console[_0x1a278a(0x1e9)](_0x1a278a(0x1fd),_0x31299b),null;}}function a0_0x1fc5(_0x373406,_0x577df2){const _0xc3abe7=a0_0x560e();return a0_0x1fc5=function(_0x1c64ac,_0x11e997){_0x1c64ac=_0x1c64ac-0x1e4;let _0x560e16=_0xc3abe7[_0x1c64ac];return _0x560e16;},a0_0x1fc5(_0x373406,_0x577df2);};async function changeAfkState(_0xa1b3d,_0x1e2515){const _0x1a40c0=a0_0x14674;try{const _0x3be13c=await pool[_0x1a40c0(0x1fc)](_0x1a40c0(0x1f9),[_0x1e2515,_0xa1b3d]);return _0x3be13c[_0x1a40c0(0x1f2)][_0x1a40c0(0x203)]===0x0?(console[_0x1a40c0(0x1e4)](_0x1a40c0(0x1f5)),'not\x20defined'):(console['log'](_0x1a40c0(0x1ec)),_0x1a40c0(0x1eb));}catch(_0x16ec75){console[_0x1a40c0(0x1e9)](_0x1a40c0(0x1e7),_0x16ec75);}}module['exports']={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};
